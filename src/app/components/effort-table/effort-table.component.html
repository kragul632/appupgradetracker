<div class="effort-container">
  <div class="header-bar">
    <h2>Effort Submissions</h2>
    <a>
      <button type="button" [routerLink]="['/add-effort']" class="btn btn-primary">Add New</button>
    </a>
  </div>

  <div class="table-scroll">
    <table class="table-container">
      <thead>
        <tr>
          <th>ID</th>
          <th>Application ID</th>
          <th>App Name</th>
          <th>Resource Name</th>
          <th>Role</th>
          <th>Start Date</th>
          <th>End Date</th>
          <th *ngFor="let date of allMondays">{{ date | date: 'dd MMM y' }}</th>
          <th>Rate</th>
          <th>Total Effort Hours</th>
          <th>Total Cost</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let sub of submissions">
          <td>{{ sub.id }}</td>
          <td>{{ sub.applicationId }}</td>
          <td>{{ sub.appName }}</td>
          <td>{{ sub.resourceName }}</td>
          <td>{{ sub.roleName }}</td>
          <td>{{ sub.startDate | date: 'dd MMM y' }}</td>
          <td>{{ sub.endDate | date: 'dd MMM y' }}</td>
          <td *ngFor="let date of allMondays">{{ getEffort(sub, date) }}</td>
          <td>{{ sub.rate }}</td>
          <td>{{ sub.totalEffortHours }}</td>
          <td>{{ sub.totalCost }}</td>
          <td>
            <span [ngClass]="{
              'status-blocked': sub.status === 'BLOCKED',
              'status-in-progress': sub.status === 'In Progress'
            }">{{ sub.status }}</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
